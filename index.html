<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="style.css" />
    <title>confilter</title>
  </head>
  <body>
  <a href="https://github.com/rjz/confilter"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>
    <div class="content">
      <section class="container">
        <h1><a name="top"></a>confilter</h1>

        <div>
          <p>Filter-driven configuration</p>
        </div>

        <h3>Contents</h3>
        <ul>
          <li><a href="https://github.com/rjz/confilter">Source code</a></li>
          <li><a href="https://github.com/rjz/confilter/tree/master/README.md">Readme</a></li>
          <li><a href="https://github.com/rjz/confilter/tree/master/LICENSE">License (MIT)</a></li>
            <li>
              <a href="#confilter">confilter</a>
              <ul>
                <li>
                  <a href="#confilter-confilter"><code>confilter</code></a>
                </li>
              </ul>
            </li>
            <li>
              <a href="#filters">filters</a>
              <ul>
                <li>
                  <a href="#filters-loadJSON"><code>loadJSON</code></a>
                </li>
                <li>
                  <a href="#filters-required"><code>required</code></a>
                </li>
                <li>
                  <a href="#filters-defaults"><code>defaults</code></a>
                </li>
                <li>
                  <a href="#filters-freeze"><code>freeze</code></a>
                </li>
              </ul>
            </li>
        </ul>

          <hr />
          <a name="confilter"></a>
          <a name="confilter-confilter"></a>
            <section>
              <header>
                <ul class="pull-right nav-meta nav-inline">
                  <li><a href="#confilter">confilter</a></li>
                  <li><a href="#top">top</a></li>
                </ul>
            
                <h3>
                  <a name="confilter"></a><code>confilter</code>
                  <small>(<a href="https://github.com/rjz/confilter/tree/master/index.js#L6">definition</a>)</small>
                </h3>
              </header>
              <div>
            
                <p>Reduce a list of filter functions to a configuration object</p>

<pre><code> var confilter = require('confilter');
 var config = confilter([
   confilter.loadJSON([
     './config.' + process.env.NODE_ENV + '.json',
     './config.json'
   ]),

   confilter.defaults({
     role: 'api',
     port: 3200
   }),
 ]);
</code></pre>
            
            
                <h4>Arguments</h4>
                <table>
                  <tr>
                    <th width="15%">Type</th>
                    <th width="15%">Name</th>
                    <th width="60%">Description</th>
                  </tr>
                  <tr>
                    <td><code>Array</code></td>
                    <td>filters</td>
                    <td>a list of filter functions</td>
                  </tr>
    </table>

            
              </div>
            
            </section>
            
          <hr />
          <a name="filters"></a>
          <a name="filters-loadJSON"></a>
            <section>
              <header>
                <ul class="pull-right nav-meta nav-inline">
                  <li><a href="#filters">filters</a></li>
                  <li><a href="#top">top</a></li>
                </ul>
            
                <h3>
                  <a name="loadJSON"></a><code>loadJSON</code>
                  <small>(<a href="https://github.com/rjz/confilter/tree/master/lib/filters.js#L6">definition</a>)</small>
                </h3>
              </header>
              <div>
            
                <p>Load a configuration from a list of candidate files.</p>

<p>Attempts to load a configuration file from the list of locations. Throws a
<code>ReferenceError</code> if configuration cannot be loaded from any of the specified
paths.</p>

<pre><code>var loadJSONFilter = confilter.loadJSON([
 './config.json',
  __dirname + '/config.json',
  process.env.HOME + '/config.json',
]);
</code></pre>
            
            
                <h4>Arguments</h4>
                <table>
                  <tr>
                    <th width="15%">Type</th>
                    <th width="15%">Name</th>
                    <th width="60%">Description</th>
                  </tr>
                  <tr>
                    <td><code>Array|String</code></td>
                    <td>paths</td>
                    <td>one or more paths to search for an appropriate config file</td>
                  </tr>
    </table>

            
              </div>
            
            </section>
            
          <a name="filters-required"></a>
            <section>
              <header>
                <ul class="pull-right nav-meta nav-inline">
                  <li><a href="#filters">filters</a></li>
                  <li><a href="#top">top</a></li>
                </ul>
            
                <h3>
                  <a name="required"></a><code>required</code>
                  <small>(<a href="https://github.com/rjz/confilter/tree/master/lib/filters.js#L48">definition</a>)</small>
                </h3>
              </header>
              <div>
            
                <p>List required config fields and throw a <code>ReferenceError</code> with a list of any
missing fields. If all fields are present, <code>required</code> acts as a pass-through.</p>
            
            
                <h4>Arguments</h4>
                <table>
                  <tr>
                    <th width="15%">Type</th>
                    <th width="15%">Name</th>
                    <th width="60%">Description</th>
                  </tr>
                  <tr>
                    <td><code>Array</code></td>
                    <td>required</td>
                    <td>the names of required fields in the config</td>
                  </tr>
    </table>

            
              </div>
            
            </section>
            
          <a name="filters-defaults"></a>
            <section>
              <header>
                <ul class="pull-right nav-meta nav-inline">
                  <li><a href="#filters">filters</a></li>
                  <li><a href="#top">top</a></li>
                </ul>
            
                <h3>
                  <a name="defaults"></a><code>defaults</code>
                  <small>(<a href="https://github.com/rjz/confilter/tree/master/lib/filters.js#L72">definition</a>)</small>
                </h3>
              </header>
              <div>
            
                <p>Fill in any missing values in config with specified defaults</p>

<pre><code>var defaultsFilter = confilter.defaults({
  port: 3200,
  logLevel: 'debug'
});
</code></pre>
            
            
                <h4>Arguments</h4>
                <table>
                  <tr>
                    <th width="15%">Type</th>
                    <th width="15%">Name</th>
                    <th width="60%">Description</th>
                  </tr>
                  <tr>
                    <td><code>Object</code></td>
                    <td>defaults</td>
                    <td>default values to fill into the config</td>
                  </tr>
      <tr>
                    <td><code>Boolean</code></td>
                    <td>warn</td>
                    <td>(Optional) print warning to `stdout` when a default value is being used</td>
                  </tr>
    </table>

            
              </div>
            
            </section>
            
          <a name="filters-freeze"></a>
            <section>
              <header>
                <ul class="pull-right nav-meta nav-inline">
                  <li><a href="#filters">filters</a></li>
                  <li><a href="#top">top</a></li>
                </ul>
            
                <h3>
                  <a name="freeze"></a><code>freeze</code>
                  <small>(<a href="https://github.com/rjz/confilter/tree/master/lib/filters.js#L102">definition</a>)</small>
                </h3>
              </header>
              <div>
            
                <p>Freeze the config (hint: run this filter last!)</p>
            
            
            
              </div>
            
            </section>
            

      </section>
    </div>
    <footer class="dark">
      <p class="copyright">
        Another unrepentant production from <a href="http://rjzaworski.com">rj zaworski</a>
      </p>
    </footer>
  </body>
</html>

